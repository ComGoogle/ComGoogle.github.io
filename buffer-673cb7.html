<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2F10daba46-51b9-474a-9c22-1222e6e158b2%2FPMI74K6FO73MCR770JT.png?table=collection&amp;id=51a399fe-3ada-47de-a312-8e2ad5e56579">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>实验四buffer&nbsp;|&nbsp;这儿是什么地方</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="实验四buffer">
  
  
    <meta property="og:image" content="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🧨&lt;/text&gt;&lt;/svg&gt;">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2F10daba46-51b9-474a-9c22-1222e6e158b2%2FPMI74K6FO73MCR770JT.png?table=collection&amp;id=51a399fe-3ada-47de-a312-8e2ad5e56579"></span>&nbsp;
      
      <span>SixGoogle</span>
    </div>
  </a>
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about-me-1b4752.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;😀&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>About me?</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
  
    
  
</nav>

  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🧨&lt;/text&gt;&lt;/svg&gt;"></span>
      </div>
    
    <h1 class="Header__Title">实验四buffer</h1>
    
  </header>
  <article id="https://www.notion.so/673cb7b0027f4651bfc2ed1cd9c463d3" class="PageRoot"><div id="https://www.notion.so/679ec61a7b7443378d93ae792a084084" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2Fdd0715a2-6d01-478b-9d2f-ee20e3b5b919%2FUntitled.png?width=783&amp;table=block&amp;id=679ec61a-7b74-4337-8d93-ae792a084084"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2Fdd0715a2-6d01-478b-9d2f-ee20e3b5b919%2FUntitled.png?width=783&amp;table=block&amp;id=679ec61a-7b74-4337-8d93-ae792a084084" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/b9147bfb4d944dfc994c4be359eb626e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">用学号生成一个cookie先，</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">0x206b4e28</code></span></span></p></div><h1 id="https://www.notion.so/91877842718e4b8798cabe42a0dc4357" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/91877842718e4b8798cabe42a0dc4357"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">做什么</span></span></h1><div id="https://www.notion.so/33a3663d32464a2083cf8f3964394f37" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://blog.csdn.net/longzaizai_/article/details/124559539">实验三-Bufflab（缓冲区溢出攻击、buffbomb/buffbomb）实验总结_缓冲区溢出攻击实验总结-CSDN博客</a></span></span></p></div><h2 id="https://www.notion.so/1ed1435d8a7e4ccd8b78b01b6f35c294" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/1ed1435d8a7e4ccd8b78b01b6f35c294"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">实现原理</span></span></h2><div id="https://www.notion.so/310352ff03b043bc87e34ce991d75383" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">BUFBOMB program读取输入用下面的函数</span></span></p></div><pre id="https://www.notion.so/720fbdc10fe74ae8971071d9a82e4972" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token number">1</span> <span class="token comment">/* Buffer size for getbuf */</span>
<span class="token number">2</span> #define NORMAL_BUFFER_SIZE <span class="token number">32</span>
<span class="token number">3</span>
<span class="token number">4</span> <span class="token keyword">int</span> <span class="token function">getbuf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">5</span> <span class="token punctuation">{</span>
<span class="token number">6</span> <span class="token keyword">char</span> buf<span class="token punctuation">[</span>NORMAL_BUFFER_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token number">7</span> <span class="token function">Gets</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">8</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token number">9</span> <span class="token punctuation">}</span>  </span></span></span></code></pre><div id="https://www.notion.so/3779ed65844643d2b0b501a491a5089a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Gets读取输入，以/n回车结束，读取的数据存入buf，可能会溢出</span></span></p></div><div id="https://www.notion.so/c946cbf97e79483f96fda6e11d8c1acd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">输入恶意的长字符。突破Gets的栈帧，控制覆盖getbuf的栈帧，完成攻击
</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">HEX2RAW ：</strong></span><span class="SemanticString">，它能将十六进制格式的字符串转换为原始二进制格式。在输入给HEX2RAW的数据中，每个字节值由两个十六进制数字表示，字节之间用空白（空格或换行符）分隔，允许使用注释格式为</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">/* 注释内容 */</strong></code></span></span></p></div><div id="https://www.notion.so/8cab79e91de24360865db922546cea50" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">注意 </strong></span></span></p></div><div id="https://www.notion.so/7b1b259d588a4296a2ec4feb3056da85" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">字符串中间</span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorYellow">不包含0x0A（换行符）</mark></span><span class="SemanticString"> ； 确保每个十六进制值都是</span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorYellow">两位数，且之间有空白分隔</mark></span><span class="SemanticString">。</span></span></p></div><div id="https://www.notion.so/7473d4ba258546958935b2bd3e340ffe" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">测试命令</strong></span></span></p></div><div id="https://www.notion.so/ca18c19b6e4a42cd9c2f714f1620b973" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">cat leverx.txt | ./hex2raw | ./bufbomb -u 202208060120</code></span></span></p></div><div id="https://www.notion.so/d4e37e38f36d469592598aad93343c6e" class="ColumnList"><div id="https://www.notion.so/bcf40c25a6854edd8c788859a04eb0ac" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.0625)"><div id="https://www.notion.so/4815fe9beb3a4233960574abacf99c3b" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2Fc7e23ac0-be84-4c90-9ecd-404014368759%2FUntitled.png?width=87&amp;table=block&amp;id=4815fe9b-eb3a-4233-9605-74abacf99c3b"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2Fc7e23ac0-be84-4c90-9ecd-404014368759%2FUntitled.png?width=87&amp;table=block&amp;id=4815fe9b-eb3a-4233-9605-74abacf99c3b" style="width:87px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></div><div id="https://www.notion.so/eb2f4aa910394efdbfac80d6406982c9" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.9375000000000002)"><div id="https://www.notion.so/476c17b5b58a433fb5e104f663b8ce61" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">输入着玩</span></span></p></div></div></div><div id="https://www.notion.so/25f95c79fe9e45a796cfe06343154f39" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2F8fdb53da-c5cc-4a86-b9c7-ec12ca74cfde%2FUntitled.png?width=707.9923706054688&amp;table=block&amp;id=25f95c79-fe9e-45a7-96cf-e06343154f39"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2F8fdb53da-c5cc-4a86-b9c7-ec12ca74cfde%2FUntitled.png?width=707.9923706054688&amp;table=block&amp;id=25f95c79-fe9e-45a7-96cf-e06343154f39" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/e0eb3e59e84544d3a91de379d081900c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">得分析汇编，还是在32位虚拟机objdump出来，在vs看，wsl调试</span></span></p></div><h1 id="https://www.notion.so/bd0dbaa9611340f291e25426b594fb90" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/bd0dbaa9611340f291e25426b594fb90"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">lever0- Candle 蜡烛</span></span></h1><div id="https://www.notion.so/a5af76f762da42039ada50058292beb1" class="ColumnList"><div id="https://www.notion.so/38c20fa96ac0438a81ad593ed33cee91" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><div id="https://www.notion.so/c08a1f8bf8324adea2cd4e66574e328e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">让BUFBOMB在getbuf执行其返回语句时执行smoke的代码，而不是返回到test。请注意，您的漏洞利用字符串也可能破坏与此阶段不直接相关的堆栈部分，但这不会导致问题，因为smoke会导致程序直接退出。</span></span></p></div></div><div id="https://www.notion.so/b7900200332741159c98acddd257e527" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><div id="https://www.notion.so/4b54b5d00a244e3e984679bd863f340e" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2F1049393a-5310-4f62-bff9-288b0305340b%2FUntitled.png?width=369&amp;table=block&amp;id=4b54b5d0-0a24-4e3e-9846-79bd863f340e"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2F1049393a-5310-4f62-bff9-288b0305340b%2FUntitled.png?width=369&amp;table=block&amp;id=4b54b5d0-0a24-4e3e-9846-79bd863f340e" style="width:369px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></div></div><div id="https://www.notion.so/c39305a915214918afa7c3931b109204" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/77b48bd6df9e4558b6f3bcc0b7b75b89" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/7c90f54d28a246d098cb6160cda520d5" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/7c90f54d28a246d098cb6160cda520d5"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">lever1-Sparkler 火花</span></span></h1><div id="https://www.notion.so/cfad57eaf708455eb8639e50c2fce260" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2Faf5c2e2b-fa32-4373-8468-ec242ec9c5d4%2FUntitled.png?width=558&amp;table=block&amp;id=cfad57ea-f708-455e-b863-9e50c2fce260"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2Faf5c2e2b-fa32-4373-8468-ec242ec9c5d4%2FUntitled.png?width=558&amp;table=block&amp;id=cfad57ea-f708-455e-b863-9e50c2fce260" style="width:558px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/4085e96fd0f144629586bcf43efe4b4e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">调用fizz，但这次需要精确到</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">printf(&quot;Fizz!: You called fizz(0x%x)\n&quot;, val);</code></span><span class="SemanticString">这里开始以跳过if判断。</span></span></p></div><div id="https://www.notion.so/3bd2690d01d4489ab049f7496bb24721" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/d1cad47ce576451f928b283e46172cce" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/8a76b486c2454cdc8499ec0c885dbaa6" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/8a76b486c2454cdc8499ec0c885dbaa6"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">lever2-Firecracker 爆竹</span></span></h1><div id="https://www.notion.so/c022d7bb38024b4ea4d0ba87cc688da5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">一种更为复杂的缓冲区攻击形式涉及到提供一个编码实际机器指令的字符串。然后利用字符串用堆栈上这些指令的起始地址覆盖返回指针。</span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">当调用函数(在本例中为getbuf)执行其ret指令时，程序将开始执行堆栈上的指令</span></span><span class="SemanticString">，而不是返回。使用这种形式的攻击，让程序做几乎任何事情。放在堆栈上的代码称为</span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorYellow">漏洞利用代码。</mark></span></span></p></div><div id="https://www.notion.so/0eb6097f980243d2943f456c92b0c2a1" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2Ff988264b-2dba-42b6-a774-5c0180e87f19%2FUntitled.png?width=589.9999389648438&amp;table=block&amp;id=0eb6097f-9802-43d2-943f-456c92b0c2a1"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2Ff988264b-2dba-42b6-a774-5c0180e87f19%2FUntitled.png?width=589.9999389648438&amp;table=block&amp;id=0eb6097f-9802-43d2-943f-456c92b0c2a1" style="width:589.9999389648438px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/0577661ee5154b34b0f73f9abc14882e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">调用bang，但是在此之前将global_value设置为userid的cookie</span></span></p></div><h1 id="https://www.notion.so/563bd26788134040b2a0df0b1a3d3c7f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/563bd26788134040b2a0df0b1a3d3c7f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">lever3-Dynamite 炸药</span></span></h1><div id="https://www.notion.so/a7e3dc5cf4cc441da8c506eeb4d6d95b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">更加隐蔽——让getbuf返回我的cookie，而不是返回正常执行的0x1，同时需要返回test，</span></span></p></div><div id="https://www.notion.so/4648374654e64993ac20806f12a4eaf9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">（将机器码放入堆栈，设置返回指针为代码开头，撤销一切对堆栈的破坏）</span></span></p></div><div id="https://www.notion.so/b2092487c9fe437c98c6fa13f3b71b1c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">没咋看懂， 😵‍💫</span></span></p></div><div id="https://www.notion.so/d0a4566b99414127b441af5d33800c84" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/3d22c520cce5447ba02d18983923c7a3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/5eb1d7d6d5cb4f7e8a9996a9e54260f5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/4aa66bfeda014204a256bafbdc849d69" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/4aa66bfeda014204a256bafbdc849d69"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">lever4-Nitroglycerin 硝酸甘油</span></span></h1><div id="https://www.notion.so/302a3a078b694ef190a4fce13f4f9c06" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">用-n标准来运行，不再调用getbuf，调用getbufn,拥有512字符缓冲区，需要提供五次字符串，指向getbufn五次，每次都有不同偏移量，需要这五次均返回cookie，最后需要恢复到testn</span></span></p></div><div id="https://www.notion.so/3402ae0f9f804328a399f74f34824656" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></article>
  <footer class="Footer">
  <div>&copy; 这儿是什么地方 2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>