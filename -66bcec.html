<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2F10daba46-51b9-474a-9c22-1222e6e158b2%2FPMI74K6FO73MCR770JT.png?table=collection&amp;id=51a399fe-3ada-47de-a312-8e2ad5e56579">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>操作系统课程笔记&nbsp;|&nbsp;这儿是什么地方</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="操作系统课程笔记">
  
  
    <meta property="og:image" content="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🎃&lt;/text&gt;&lt;/svg&gt;">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2F10daba46-51b9-474a-9c22-1222e6e158b2%2FPMI74K6FO73MCR770JT.png?table=collection&amp;id=51a399fe-3ada-47de-a312-8e2ad5e56579"></span>&nbsp;
      
      <span>SixGoogle</span>
    </div>
  </a>
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;😀&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>About me?</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
</nav>

  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🎃&lt;/text&gt;&lt;/svg&gt;"></span>
      </div>
    
    <h1 class="Header__Title">操作系统课程笔记</h1>
    
      <div class="DateTagBar">
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--pink">
            <a href="tag/怎么这么绕.html">怎么这么绕</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/66bcece4921d4d66b4c5332235cf568b" class="PageRoot"><ul id="https://www.notion.so/8f8086ccdd09408589077ab22c52c564" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/4f8dd324a7bf4a369a282f153f2e39f5"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">虚拟化 virtualization</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/ba2c120fe17f4bb18fff34704500f351"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">进程管理（虚拟化CPU）</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/29f8b54853394135b6ec705d7c6ccb3c"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">抽象：进程</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/90e45b7546da4376a068004ec0d95352"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">进程API</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/f612fd0c4dd14f858fa20108b3be7c41"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">进程API续（一些常见应用）</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/d848bd6e29bb4af5bdcae37ba697c4e5"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">机制：受限直接执行</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/8d01e9cdc5c34074ad6a9f07a1eee7e0"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">进程调度
</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/d943c6f477954221ba404388e0c0d49f"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">内存管理（虚拟化内存）</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/f008e73a3e3a4fbfa411193f14e4a2f2"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">并发</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/b2bd23fee9b74397a007426291e66a3a"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">锁</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/f6e50fc27ee94841847bcf194fa0b5ce"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">条件变量</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/285d0445013447839bc6f68b1b34b648"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">信号量</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/9d46ae1f92a543f28d6741e9e19af03b"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">持久性</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/303a7fe9c7154d048962668279fb913f"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">I/O设备</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/cdc448590ade4cae86a083cf3a139646"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">磁盘管理</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/5f5438f30e2e435580b7735dfdbac5d0"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">文件系统</span></span></div></a></li></ul><h1 id="https://www.notion.so/4f8dd324a7bf4a369a282f153f2e39f5" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/4f8dd324a7bf4a369a282f153f2e39f5"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">虚拟化 virtualization</span></span></h1><div id="https://www.notion.so/e7828ddf108546c784b6abef003c8b35" class="Divider"></div><h2 id="https://www.notion.so/ba2c120fe17f4bb18fff34704500f351" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/ba2c120fe17f4bb18fff34704500f351"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">进程管理（虚拟化CPU）</span></span></h2><h3 id="https://www.notion.so/29f8b54853394135b6ec705d7c6ccb3c" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/29f8b54853394135b6ec705d7c6ccb3c"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">抽象：进程</span></span></h3><div id="https://www.notion.so/f8a35bd7055f410f813446d9ec558d9c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">进程可简单理解为运行中的程序，程序是指令的有序集合，没有任何执行的含义，而进程则强调的是执行过程，它动态被创建、执行和消亡。不同的进程可以来自于同一程序，只要该程序所对应的数据集不同。</span></span></p></div><div id="https://www.notion.so/6e3e92d647cc4933b3de94fe23967b6c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">进程是</span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorYellow">运行程序的主要操作系统抽象</mark></span><span class="SemanticString">。在任何时间点，进程都可以用它的状态来描述:地址空间中内存的内容，CPU寄存器的内容(包括程序计数器和堆栈指针等)，以及关于I/O的信息(如可读或可写的打开文件)。</span></span></p></div><div id="https://www.notion.so/b11e2f9d769a425aa1bed0e0f53e436f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">虚拟化cpu的实现，通过让一个进程只运行一个时间片，然后切换到其他进程，提供存在多个虚拟cpu的假象（时分共享CPU技术，对应的磁盘空间是空分共享资源）</span></span></p></div><div id="https://www.notion.so/d383149beaac449cbf54d8540d18dd52" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2Fc6672b7b-8bd7-4987-b463-70eb46f9778f%2FUntitled.png?width=689&amp;table=block&amp;id=d383149b-eaac-449c-bf54-d8540d18dd52"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2Fc6672b7b-8bd7-4987-b463-70eb46f9778f%2FUntitled.png?width=689&amp;table=block&amp;id=d383149b-eaac-449c-bf54-d8540d18dd52" style="width:689px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/2ef18b6c4fc9441a92b5a7949401eb54" class="Divider"></div><h3 id="https://www.notion.so/90e45b7546da4376a068004ec0d95352" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/90e45b7546da4376a068004ec0d95352"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">进程API</span></span></h3><ol class="NumberedListWrapper"><li id="https://www.notion.so/b0d21a841b8e4df0b801bb460ce07549" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">创建create</span></span><div id="https://www.notion.so/f0b44f5dcccd41a5bf4263e29b61e328" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2Ff247edf6-c501-47c1-b346-6abb2f5e3a88%2FUntitled.png?width=392&amp;table=block&amp;id=f0b44f5d-cccd-41a5-bf42-63e29b61e328"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2Ff247edf6-c501-47c1-b346-6abb2f5e3a88%2FUntitled.png?width=392&amp;table=block&amp;id=f0b44f5d-cccd-41a5-bf42-63e29b61e328" style="width:392px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/ee0120ceba3347c8bec2f8ab127e4fe4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">运行程序的第一步：将代码，动态数据从磁盘加载到内存，加载到进程的地址空间
一旦代码和静态数据加载到内存中。
必须为程序的运行时堆栈(或仅仅是堆栈)分配一些内存。c程序使用堆栈存储局部变量、函数参数和返回地址;
操作系统分配这些内存并将其分配给进程。
操作系统也可能会用参数初始化堆栈;
具体来说，它将填充main()函数的参数，即argc和argv数组。</span></span></p></div><div id="https://www.notion.so/15a15a5dbfe846509e6a76c0fbb690a2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">此外还有：销毁destroy，   等待wait，   其他控制miscellaneous  暂停，恢复等，   状态statu</span></span></p></div></li><li id="https://www.notion.so/bdb68bd4ba4f4b798251deac851a366b" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">进程状态</span></span></li></ol><div id="https://www.notion.so/132a60239df44373b2166344b72fdd14" class="ColumnList"><div id="https://www.notion.so/07cdd4e279a4430c8d4fd24fcb329f5e" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><div id="https://www.notion.so/f0d03ea1e7b5406fa2b79c8a61980ab7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">进程从执行到阻塞为主动的</span></span></p></div><div id="https://www.notion.so/82ca95d9631048858b99f4b2c858bcae" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">进程从阻塞到就绪是被动的</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/1219e7c28dba4098bc982928f66451c5" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">运行running</span></span></li><li id="https://www.notion.so/64b2d69923c743ee83aff49b7ced1ef1" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">就绪ready</span></span></li><li id="https://www.notion.so/cc0d28bcd20241cb9af8f8f39ea1d10d" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">阻塞blocked</span></span><div id="https://www.notion.so/93970ae5cb9d4a34a5cdf2fde02b5e6c" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2F5a230160-bfe6-452c-85b5-aa4444800f00%2FUntitled.png?width=240&amp;table=block&amp;id=93970ae5-cb9d-4a34-a5cd-f2fde02b5e6c"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2F5a230160-bfe6-452c-85b5-aa4444800f00%2FUntitled.png?width=240&amp;table=block&amp;id=93970ae5-cb9d-4a34-a5cd-f2fde02b5e6c" style="width:240px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></li></ul></div><div id="https://www.notion.so/593475afe5be45358f058302ba43492d" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><div id="https://www.notion.so/685e6e5c9a164133981d12d41174b75a" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2F50463ad4-c316-46cc-8f29-db5cecd3d6d0%2FUntitled.png?width=1051&amp;table=block&amp;id=685e6e5c-9a16-4133-981d-12d41174b75a"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2F50463ad4-c316-46cc-8f29-db5cecd3d6d0%2FUntitled.png?width=1051&amp;table=block&amp;id=685e6e5c-9a16-4133-981d-12d41174b75a" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/bbe1333b7ab94a95adc7af4205939ff1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></div></div><div id="https://www.notion.so/40a68a4cfe764099ac953175e672e0e3" class="ColumnList"><div id="https://www.notion.so/54c4f6602c904a9f8e99051c41716681" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 1)"><ol class="NumberedListWrapper"><li id="https://www.notion.so/e43484f4c4124a2cb7cd55e4b2ec7433" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">OS中有许多数据结构，如进程列表：包含系统中所有进程的信息，进程控制块process control block PCB：储存关于进程的信息的个体结构</span></span></li></ol><div id="https://www.notion.so/aca635466cd44e5487cde64e71888aa3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></div><div id="https://www.notion.so/3a3633f7bb074dbd8ef8f5ba3f1ecd6e" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 1)"><div id="https://www.notion.so/f9ed612bfac84b97ac9ddb757c48c8c6" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2F0d92b4de-80bb-4361-b83e-5594b1c85e78%2FUntitled.png?width=468&amp;table=block&amp;id=f9ed612b-fac8-4b97-ac9d-db757c48c8c6"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2F0d92b4de-80bb-4361-b83e-5594b1c85e78%2FUntitled.png?width=468&amp;table=block&amp;id=f9ed612b-fac8-4b97-ac9d-db757c48c8c6" style="width:468px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></div></div><div id="https://www.notion.so/57c45566fa1a46de9c74d0c5644111ec" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/ceacaf382b8c4691baa840a2d7109060" class="Divider"></div><h3 id="https://www.notion.so/f612fd0c4dd14f858fa20108b3be7c41" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/f612fd0c4dd14f858fa20108b3be7c41"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">进程API续（一些常见应用）</span></span></h3><ol class="NumberedListWrapper"><li id="https://www.notion.so/85120c839db64ab990d72753e9b07f5f" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">fork()
创建新的进程
fork的实现分为以下两步
1. 复制进程资源（代码段继续共享父进程的物理空间（</span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorYellow">两者的代码完全相同，子进程从fork()后继续执行</mark></span><span class="SemanticString">），内核会给子进程的数据段、堆栈段分配相应的物理空间）
2. 执行该进程（加入就绪队列）
</span></span></li><li id="https://www.notion.so/79c62ae9142a44ad80a90acdb065f988" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">wait()
延迟当前进程执行,调用其的进程将进入阻塞态
添加与父进程相关概念</span></span></li></ol><pre id="https://www.notion.so/62ce59cada3b43df950b27322a471c27" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token class-name">pid_t</span> <span class="token function">wait</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>wstatus<span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token comment">// 功能：等待任意一个子进程结束，如果任意一个子进程结束了，此函数会回收子进程   </span>
<span class="token comment">// 参数：int*  wstatus   进程退出时的状态信息，传入的是一个int类型的地址，是传出参数。</span>
<span class="token comment">//返回值：-成功：返回被回收的子进程的id    -失败：-1      </span></span></span></span></code></pre><ol class="NumberedListWrapper"><li id="https://www.notion.so/5e666acb30c24d47b892243bf2ce2fed" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">exec()</span></span></li></ol><div id="https://www.notion.so/2214680dcd7044c1873f215e5ba30a01" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">使用fork()创建子进程后常用exec系列的函数来将子进程替换为新的进程。</span></span></p></div><div id="https://www.notion.so/221405622814474d8a093a91da107675" class="ColorfulBlock ColorfulBlock--BgGray Callout"><div class="Callout__Icon"><div class="Icon">💡</div></div><p class="Callout__Content"><span class="SemanticStringArray"><span class="SemanticString">为何设计这些exec函数</span></span><div id="https://www.notion.so/f9beac93f8d34150b433ea7a3d4ae567" class="ColorfulBlock ColorfulBlock--BgGray Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">这种分离 fork()及 exec()的做法在构建 UNIX shell 的时候非常有用，因为这给了 shell 在fork 之后 exec 之前运行代码的机会，这些代码可以在运行新程序前改变环境，从而让一系列有趣的功能很容易实现。</span></span></p></div></p></div><div id="https://www.notion.so/5b5a82f76a3844c686aed8391f1489ef" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">貌似要重点关注书上32,33,34页？</strong></em></span></span></p></div><div id="https://www.notion.so/7f8fe314826c4dc8b57dff112ab0fbaf" class="Divider"></div><h3 id="https://www.notion.so/d848bd6e29bb4af5bdcae37ba697c4e5" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/d848bd6e29bb4af5bdcae37ba697c4e5"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">机制：受限直接执行</span></span></h3><div id="https://www.notion.so/515020007fe644e2988d44b316747795" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">虚拟化带来了一些问题：</span></span></p></div><div id="https://www.notion.so/be6b9e7bb5d548ec823c6c3d8697b34b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorRed">性能</mark></span><span class="SemanticString">问题:如何在不给系统增加过多开销的情况下实现虚拟化?
第二个是</span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorRed">控制权</mark></span><span class="SemanticString">:我们如何在保持对CPU控制的同时高效地运行进程?</span></span></p></div><div id="https://www.notion.so/00a6f68d1c354427ac65abe3cfa4f40a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">→</span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">受限直接执行</em></span></span></p></div><div id="https://www.notion.so/a9dc5ffe970244fd98ebfd4abc1acdce" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">为什么不直接执行？</strong></em></span></span></p></div><div id="https://www.notion.so/efdb5c78a0f841538a0154260fdbf8dc" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2Fc58368c1-0e0a-4058-a622-e728939f7af1%2FUntitled.png?width=727&amp;table=block&amp;id=efdb5c78-a0f8-4153-8a01-54260fdbf8dc"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2Fc58368c1-0e0a-4058-a622-e728939f7af1%2FUntitled.png?width=727&amp;table=block&amp;id=efdb5c78-a0f8-4153-8a01-54260fdbf8dc" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/eb5244523df64b108a1c856f89b2969f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">答：通过fork（），OS一旦把控制权交给用户进程可能就失去了控制（CPU和其他硬件），且若进程希望进行受限操作（如进行I/O操作或内存申请），如何进行？</span></span></p></div><blockquote id="https://www.notion.so/08f2ffe40d90457ea75b56e57a9b356d" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString">一个进程必须能够执行 I/O 和其他一些受限制的操作，但又不能让进程完全控制系统。</span></span></blockquote><div id="https://www.notion.so/623a057e94b540aa81aae5c6fd639c8b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">使用一种”受保护的控制权转移“</strong></em></span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/7b4c4ff545bc42109f1c7f0b1c05836c" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">用户模式（user mode）</strong></span><span class="SemanticString">下，应用程序不能完全访问硬件资源。</span></span></li><li id="https://www.notion.so/bee597ed5b3e4532a9b61775a09c71cd" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">内核模式（kernel mode）</strong></span><span class="SemanticString">下，操作系统可以访问机器的全部资源。还提供了陷入（trap）内核和从陷阱返回（return-from-trap）到用户模式程序的特别说明，以及一些指令，让操作系统告诉硬件陷阱表（trap table）在内存中的位置。</span></span></li></ul><div id="https://www.notion.so/be3169c3dccd4018a5c3a73bab890ea3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">用户程序只能通过OS的系统调用进入到内核态，使用特权操作：</strong></em></span></span></p></div><div id="https://www.notion.so/177a69ed0f5c41cd95d0973eff74191e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">用户要想访问内核空间，必须</span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">借助操作系统提供的 API 函数，执行内核提供的代码</span></span><span class="SemanticString">，让内核自己来访问，这样才能</span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">保证内核空间的数据不会被随意修改</span></span><span class="SemanticString">，才能保证操作系统本身和其他程序的稳定性。
</span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">用户态→核心态的三种方式：</strong></em></span></span></p></div><div id="https://www.notion.so/97209897c9e84cf0980feeb06f529a52" class="ColumnList"><div id="https://www.notion.so/9212970af70f437594b5065881496e28" class="Column" style="width:calc((100% - var(--column-spacing) * 2) * 0.3333333333333333)"><div id="https://www.notion.so/32e23de50cb34897acd06a9b19e16421" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorYellow">系统调用*</mark></span><span class="SemanticString"> 这是用户态进程</span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">主动要求切换</span></span><span class="SemanticString">到内核态的一种方式，用户态进程通过系统调用申请使用操作系统提供的服务程序完成工作。而系统调用的机制其核心还是使用了操作系统为用户特别开放的一个中断来实现，例如Linux的int 80h中断（int 0x80）。</span></span></p></div></div><div id="https://www.notion.so/9ed8d5cfad7447a485589584886d6526" class="Column" style="width:calc((100% - var(--column-spacing) * 2) * 0.3333333333333333)"><div id="https://www.notion.so/55a81b65cc9240ef973ec796ebbb9ae9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorYellow">异常 </mark></span><span class="SemanticString">当CPU在执行运行在用户态下的程序时，发生了某些事先不可知的异常，这时会</span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">触发由当前运行进程切换到处理此异常的内核相关程序中</span></span><span class="SemanticString">，也就转到了内核态，比如缺页异常。
</span></span></p></div></div><div id="https://www.notion.so/39d408c0ee244c3fac27d426576289da" class="Column" style="width:calc((100% - var(--column-spacing) * 2) * 0.3333333333333333)"><div id="https://www.notion.so/735d593573724988bdd3da7a5efb80cf" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorYellow">外围设备的中断 </mark></span><span class="SemanticString">当外围设备完成用户请求的操作后，会向CPU发出相应的中断信号，这时CPU会暂停执行下一条即将要执行的指令转而去执行与中断信号对应的处理程序。比如硬盘读写操作完成，系统会切换到硬盘读写的中断处理程序中执行后续操作等。</span></span></p></div></div></div><div id="https://www.notion.so/ea02c9aea4c1421caaebbf963e77abfe" class="Divider"></div><div id="https://www.notion.so/1347f9e441de432c842f648adcb5f529" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">重点介绍系统调用：</strong></em></span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">
陷阱(trap):</strong></span></span></p></div><div id="https://www.notion.so/6890786ba558431384977ac28076fb23" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">程序执行特殊的陷阱（trap）指令。该指令跳入内核并将特权级别提升到内核模式。进入内核，系统就可以执行任何需要的特权操作（如果允许），从而为调用进程执行所需的工作。</span></span></p></div><div id="https://www.notion.so/8ff394b9114a4e19be43add15bd4b18c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">完成后，操作系统调用一个特殊的从陷阱返回（return-from-trap）指令，该指令实现从内核态到用户态。</span></span></p></div><div id="https://www.notion.so/d171e089efba4bdeba3ef50095e4d121" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">陷阱如何知道在 OS 内运行哪些代码？→</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">陷阱表（trap table）：</strong></span></span></p></div><div id="https://www.notion.so/3d0114d8a9854787b5e6986a0d0a00b9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">内核通过在启动时设置陷阱表（trap table）</strong></em></span><span class="SemanticString">来实现。当机器启动时，它在特权（内核）模式下执行，操作系统做的第一件事，就是告诉硬件在发生某些异常事件时要运行哪些代码。操作系统通常通过某种特殊的指令，通知硬件这些陷阱处理程序的位置。一旦硬件被通知，它就会记住这些处理程序的位置，直到下一次重新启动机器。</span></span></p></div><div id="https://www.notion.so/b67982de379a411e8d068c3e193e5c17" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorYellow">设置陷阱表是一项特权操作。</mark></span></span></p></div><div id="https://www.notion.so/e317d71c4e144efcaf72c08ee20510b6" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2Fffc3cbd0-7fe9-44a7-9288-99477a1cb32a%2FUntitled.png?width=762&amp;table=block&amp;id=e317d71c-4e14-4efc-af72-c08ee20510b6"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2Fffc3cbd0-7fe9-44a7-9288-99477a1cb32a%2FUntitled.png?width=762&amp;table=block&amp;id=e317d71c-4e14-4efc-af72-c08ee20510b6" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/e2b8cf26672443cbada72e3e218af0ee" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">进程执行时，进程在CPU上运行，操作系统如何重获控制权?</span></span></p></div><div id="https://www.notion.so/7ad9e564b9bc46c7bcbc54702af7dd03" class="Divider"></div><div id="https://www.notion.so/d093804b84374fd4a12d4367fc039d58" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">实现在进程中的切换：</strong></em></span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/eaa8fcd545584010bad7a05dfe19a4fd" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">协作方式：等待系统调用
远古时期：操作系统相信系统的进程会合理运行。运行时间过长的进程被假定会定期放弃 CPU，以便操作系统可以决定运行其他任务。
大多进程：通过进行系统调用（yield），将 CPU 的控制权转给操作系统
应用程序执行了某些非法操作：将控制转移给操作系统</span></span></li></ul><div id="https://www.notion.so/645b527015894de8bc630f5506ba39d6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">如果某个进程进入无限循环，并且从不进行系统调用，怎么办？</em></span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/8e08146fe9f44a7cae67dca329ccbaa5" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">非协作方式：操作系统进行控制
时间中断（定时器中断）：时钟设备可以编程为每隔几毫秒产生一次中断</span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">。产生中断时，当前正在运行的进程停止，操作系统中预先配置的中断处理程序（interrupt handler）会运行</span></span><span class="SemanticString">。此时，操作系统重新获得 CPU 的控制权。（获取控制权如何进行下一步分配，将由</span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorRed">CPU调度功能</mark></span><span class="SemanticString">决定）</span></span></li></ul><div id="https://www.notion.so/665a88edb9ef4cfc9b0ecab9a4ac0521" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">当确定要切换进程时需要→</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">上下文切换（context switch）：</strong></span></span></p></div><div id="https://www.notion.so/3cad45550d7f4c7bb1cdff6f058a398e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">操作系统要做的就是</span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">为当前正在执行的进程保存一些寄存器的值</span></span><span class="SemanticString">（例如，到它的内核栈），并</span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">为即将执行的进程恢复一些寄存器的值</span></span><span class="SemanticString">（从它的内核栈）。这样一来，操作系统就可以</span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">确保最后执行从陷阱返回指令后</span></span><span class="SemanticString">，不是返回到之前运行的进程，而是</span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">继续执行另一个进程</span></span><span class="SemanticString">。</span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorYellow">（P43)</mark></em></span></span></p></div><div id="https://www.notion.so/e2b0e8fb431a4adbbccbdb19f33a74d1" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2Ff69c792b-aa59-494e-81aa-cd354870b966%2FUntitled.png?width=713&amp;table=block&amp;id=e2b0e8fb-431a-4adb-bccb-db19f33a74d1"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fdd719a06-a4c3-47e4-9b49-3a2adc703adc%2Ff69c792b-aa59-494e-81aa-cd354870b966%2FUntitled.png?width=713&amp;table=block&amp;id=e2b0e8fb-431a-4adb-bccb-db19f33a74d1" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/3302046165504468a8049d3a844959f1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">如果在系统调用期间发生中断或处理中断时发生中断怎么办？→第二部分</span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorRed">并发</mark></span></span></p></div><h3 id="https://www.notion.so/8d01e9cdc5c34074ad6a9f07a1eee7e0" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/8d01e9cdc5c34074ad6a9f07a1eee7e0"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">进程调度
</span></span></h3><h2 id="https://www.notion.so/d943c6f477954221ba404388e0c0d49f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/d943c6f477954221ba404388e0c0d49f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">内存管理（虚拟化内存）</span></span></h2><div id="https://www.notion.so/ec8b5dab049a4692a6f7316d1c183bbe" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/f008e73a3e3a4fbfa411193f14e4a2f2" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/f008e73a3e3a4fbfa411193f14e4a2f2"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">并发</span></span></h1><h2 id="https://www.notion.so/b2bd23fee9b74397a007426291e66a3a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/b2bd23fee9b74397a007426291e66a3a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">锁</span></span></h2><h2 id="https://www.notion.so/f6e50fc27ee94841847bcf194fa0b5ce" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/f6e50fc27ee94841847bcf194fa0b5ce"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">条件变量</span></span></h2><h2 id="https://www.notion.so/285d0445013447839bc6f68b1b34b648" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/285d0445013447839bc6f68b1b34b648"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">信号量</span></span></h2><h1 id="https://www.notion.so/9d46ae1f92a543f28d6741e9e19af03b" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/9d46ae1f92a543f28d6741e9e19af03b"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">持久性</span></span></h1><h2 id="https://www.notion.so/303a7fe9c7154d048962668279fb913f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/303a7fe9c7154d048962668279fb913f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">I/O设备</span></span></h2><h2 id="https://www.notion.so/cdc448590ade4cae86a083cf3a139646" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/cdc448590ade4cae86a083cf3a139646"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">磁盘管理</span></span></h2><h2 id="https://www.notion.so/5f5438f30e2e435580b7735dfdbac5d0" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/5f5438f30e2e435580b7735dfdbac5d0"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">文件系统</span></span></h2></article>
  <footer class="Footer">
  <div>&copy; 这儿是什么地方 2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>